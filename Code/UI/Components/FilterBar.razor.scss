FilterBar {
	display: flex;
	align-items: center;
	gap: 12px;
	flex-wrap: wrap;
	position: relative;
	z-index: 100;
}

.filter-bar {
	display: flex;
	align-items: center;
	gap: 12px;
	flex-wrap: wrap;
	position: relative;
	z-index: 100;
}

// Dropdown container
.dropdown-container {
	position: relative;
	pointer-events: all;
	z-index: 100;
}

// Dropdown button
.dropdown-btn {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 10px 16px;
	font-size: 14px;
	font-weight: 600;
	color: rgba(255, 255, 255, 0.8);
	background-color: rgba(255, 255, 255, 0.08);
	border: 1px solid rgba(255, 255, 255, 0.15);
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.2s ease;
	white-space: nowrap;
	min-width: 160px;
	flex-shrink: 0;

	&:hover {
		background-color: rgba(255, 255, 255, 0.12);
		border-color: rgba(255, 255, 255, 0.25);
	}

	.dropdown-icon {
		font-size: 14px;
		line-height: 20px;
		height: 20px;
		align-self: center;
		margin-top: -8px;
	}

	.dropdown-label {
		flex: 1;
		line-height: 20px;
	}

	.dropdown-arrow {
		font-size: 10px;
		color: rgba(255, 255, 255, 0.5);
		transition: transform 0.2s ease;

		&.open {
			transform: rotate(180deg);
		}
	}

	// Element-colored buttons (using solid colors for s&box compatibility)
	&.fire { background-color: #b91c1c; border-color: #dc2626; }
	&.water { background-color: #1d4ed8; border-color: #2563eb; }
	&.earth { background-color: #78350f; border-color: #92400e; }
	&.wind { background-color: #15803d; border-color: #16a34a; }
	&.electric { background-color: #a16207; border-color: #ca8a04; }
	&.ice { background-color: #0284c7; border-color: #0ea5e9; }
	&.nature { background-color: #166534; border-color: #15803d; }
	&.metal { background-color: #475569; border-color: #64748b; }
	&.shadow { background-color: #4c1d95; border-color: #5b21b6; }
	&.spirit { background-color: #9d174d; border-color: #be185d; }

	// Rarity-colored buttons (using solid colors for s&box compatibility)
	&.common { background-color: #6b7280; border-color: #9ca3af; }
	&.uncommon { background-color: #22c55e; border-color: #4ade80; }
	&.rare { background-color: #3b82f6; border-color: #60a5fa; }
	&.epic { background-color: #8b5cf6; border-color: #a78bfa; }
	&.legendary { background-color: #f59e0b; border-color: #fbbf24; } // Yellow/gold
	&.mythic { background-color: #ec4899; border-color: #f472b6; } // Pink
}

// Dropdown menu
.dropdown-menu {
	position: absolute;
	top: 46px; // Button height (~42px) + 4px gap
	left: 0;
	min-width: 180px;
	max-height: 280px; // Compact to avoid covering content below
	overflow-y: scroll;
	background-color: rgba(15, 10, 30, 0.98);
	border: 1px solid rgba(139, 92, 246, 0.3);
	border-radius: 10px;
	padding: 6px;
	z-index: 9999;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);

	// Fade in animation
	animation: dropdownFadeIn 0.15s ease-out;
}

@keyframes dropdownFadeIn {
	from {
		opacity: 0;
		transform: translateY(-8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

// Dropdown item
.dropdown-item {
	display: flex;
	align-items: center;
	gap: 10px;
	padding: 10px 14px;
	font-size: 14px;
	font-weight: 500;
	color: rgba(255, 255, 255, 0.7);
	border-radius: 6px;
	cursor: pointer;
	transition: all 0.15s ease;

	&:hover {
		background-color: rgba(139, 92, 246, 0.2);
		color: #ffffff;
	}

	&.active {
		background-color: rgba(139, 92, 246, 0.35);
		color: #ffffff;

		.item-icon, .item-dot {
			color: #a78bfa;
		}
	}

	.item-icon {
		font-size: 14px;
		line-height: 20px;
		height: 20px;
		width: 20px;
		text-align: center;
		align-self: center;
		margin-top: -8px;
	}

	.item-dot {
		width: 10px;
		height: 10px;
		border-radius: 50%;
		margin: 0 5px;
	}

	.item-label {
		flex: 1;
		line-height: 20px;
	}

	// Element colors for dots
	&.fire .item-dot { background: #ef4444; }
	&.water .item-dot { background: #3b82f6; }
	&.earth .item-dot { background: #a16207; }
	&.wind .item-dot { background: #22c55e; }
	&.electric .item-dot { background: #facc15; }
	&.ice .item-dot { background: #38bdf8; }
	&.nature .item-dot { background: #4ade80; }
	&.metal .item-dot { background: #94a3b8; }
	&.shadow .item-dot { background: #7c3aed; }
	&.spirit .item-dot { background: #ec4899; }
	&.neutral .item-dot { background: #9ca3af; }

	// Favorite special styling
	&.fav {
		.item-icon {
			color: #fbbf24;
		}

		&:hover, &.active {
			background-color: rgba(251, 191, 36, 0.2);
		}
	}

	// Rarity colors
	&.common { color: rgba(156, 163, 175, 0.9); }
	&.common:hover, &.common.active { background-color: rgba(107, 114, 128, 0.3); color: #9ca3af; }

	&.uncommon { color: rgba(74, 222, 128, 0.9); }
	&.uncommon:hover, &.uncommon.active { background-color: rgba(34, 197, 94, 0.3); color: #4ade80; }

	&.rare { color: rgba(96, 165, 250, 0.9); }
	&.rare:hover, &.rare.active { background-color: rgba(59, 130, 246, 0.3); color: #60a5fa; }

	&.epic { color: rgba(167, 139, 250, 0.9); }
	&.epic:hover, &.epic.active { background-color: rgba(139, 92, 246, 0.3); color: #a78bfa; }

	&.legendary { color: rgba(251, 191, 36, 0.9); } // Yellow/gold
	&.legendary:hover, &.legendary.active { background-color: rgba(245, 158, 11, 0.3); color: #fbbf24; }

	&.mythic { color: rgba(244, 114, 182, 0.9); } // Pink
	&.mythic:hover, &.mythic.active { background-color: rgba(236, 72, 153, 0.3); color: #f472b6; }
}

// Dropdown divider
.dropdown-divider {
	height: 1px;
	background-color: rgba(255, 255, 255, 0.1);
	margin: 6px 8px;
}

// Sort direction toggle button
.sort-direction-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 36px;
	height: 36px;
	font-size: 16px;
	font-weight: 700;
	color: rgba(255, 255, 255, 0.8);
	background-color: rgba(255, 255, 255, 0.08);
	border: 1px solid rgba(255, 255, 255, 0.15);
	border-radius: 6px;
	cursor: pointer;
	transition: all 0.2s ease;
	margin-left: -6px; // Tuck closer to sort dropdown

	&:hover {
		background-color: rgba(139, 92, 246, 0.3);
		border-color: rgba(139, 92, 246, 0.5);
		color: #ffffff;
	}
}

// Name Search Popup - fullscreen overlay
.search-overlay {
	position: absolute;
	top: -100px;
	left: 0px;
	width: 1920px;
	height: 1080px;
	background-color: rgba(0, 0, 0, 0.7);
	display: flex;
	justify-content: center;
	align-items: flex-start;
	padding-top: 200px;
	z-index: 2000;
	pointer-events: all;
	overflow-x: hidden;
	overflow-y: hidden;
}

.search-popup {
	width: 500px;
	height: 500px;
	background-color: rgba(15, 10, 30, 0.98);
	border: 2px solid rgba(139, 92, 246, 0.5);
	border-radius: 16px;
	display: flex;
	flex-direction: column;
	box-shadow: 0 16px 64px rgba(0, 0, 0, 0.8);
	animation: popupSlideIn 0.2s ease-out;
}

@keyframes popupSlideIn {
	from {
		opacity: 0;
		transform: scale(0.95) translateY(-20px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

.search-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 16px 20px;
	border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.search-title {
	font-size: 18px;
	font-weight: 600;
	color: #ffffff;
}

.search-close {
	width: 32px;
	height: 32px;
	display: flex;
	justify-content: center;
	align-items: center;
	font-size: 20px;
	color: rgba(255, 255, 255, 0.5);
	background-color: rgba(255, 255, 255, 0.05);
	border: none;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.15s ease;

	&:hover {
		background-color: rgba(239, 68, 68, 0.3);
		color: #ef4444;
	}
}

.search-input-wrapper {
	padding: 16px 20px;
}

.search-input {
	width: 100%;
	padding: 12px 16px;
	font-size: 16px;
	color: #ffffff;
	background-color: rgba(255, 255, 255, 0.08);
	border: 1px solid rgba(255, 255, 255, 0.15);
	border-radius: 8px;

	&:focus {
		border-color: rgba(139, 92, 246, 0.5);
		background-color: rgba(255, 255, 255, 0.1);
	}
}

.search-results {
	flex: 1;
	flex-direction: column;
	flex-wrap: nowrap;
	overflow-x: hidden;
	overflow-y: scroll;
	padding: 0 12px 12px 12px;
}

.search-result {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 10px 14px;
	font-size: 15px;
	font-weight: 500;
	color: rgba(255, 255, 255, 0.8);
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.15s ease;
}

.result-number {
	font-size: 12px;
	font-weight: 600;
	color: rgba(255, 255, 255, 0.4);
	width: 32px;
}

.result-element {
	font-size: 14px;
	width: 20px;
}

.result-name {
	font-size: 15px;
}

.search-result:hover {
	background-color: rgba(139, 92, 246, 0.25);
	color: #ffffff;
}

.search-empty {
	padding: 24px;
	text-align: center;
	font-size: 14px;
	color: rgba(255, 255, 255, 0.4);
}
