ChatPanel {
	position: absolute;
	bottom: 18px;
	left: 18px;
	z-index: 1000;
	pointer-events: all;

	&.collapsed {
		// Minimal footprint — button is in GameHUD
	}

	&.expanded {
		// Full overlay
	}
}

// ============================================
// CHAT OVERLAY (expanded state)
// ============================================
.chat-overlay {
	position: absolute;
	bottom: 70px;
	left: 0;
	width: 400px;
	height: 660px;
	background-color: #0c0c18;
	border: 1px solid rgba(255, 255, 255, 0.04);
	border-radius: 16px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
	box-shadow: 0 24px 64px rgba(0, 0, 0, 0.5);

	// Hidden by default — animate in/out
	opacity: 0;
	transform: scale(0.92);
	pointer-events: none;
	transition: opacity 0.2s ease, transform 0.2s ease;

	&.open {
		opacity: 1;
		transform: scale(1);
		pointer-events: all;
		animation: panelPopIn 0.4s ease-out;

		// Staggered content entrance
		.chat-header {
			opacity: 0;
			animation: panelContentFadeIn 0.3s ease-out 0.1s forwards;
		}

		.channel-tabs {
			opacity: 0;
			animation: panelContentFadeIn 0.3s ease-out 0.15s forwards;
		}

		.chat-messages {
			opacity: 0;
			animation: panelContentFadeIn 0.3s ease-out 0.2s forwards;
		}

		.chat-input-area {
			opacity: 0;
			animation: panelContentFadeIn 0.3s ease-out 0.25s forwards;
		}
	}
}

// ============================================
// HEADER
// ============================================
.chat-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 12px 14px;
	background-color: rgba(0, 0, 0, 0.2);
	border-bottom: 1px solid rgba(255, 255, 255, 0.04);
	flex-shrink: 0;
}

.header-left {
	display: flex;
	align-items: center;
	gap: 8px;
}

.chat-icon {
	width: 28px;
	height: 28px;
}

.chat-title {
	font-size: 13px;
	font-weight: 900;
	letter-spacing: 0.06em;
	color: #e0e0ec;
}

.header-right {
	display: flex;
	align-items: center;
	gap: 8px;
}

.online-badge {
	display: flex;
	align-items: center;
	gap: 5px;
	padding: 4px 9px;
	border-radius: 8px;
	background-color: rgba(34, 197, 94, 0.05);
	border: 1px solid rgba(34, 197, 94, 0.08);
}

.online-dot {
	width: 6px;
	height: 6px;
	border-radius: 50%;
	background-color: #22c55e;

	span {
		display: none;
	}
}

.online-count {
	font-size: 10px;
	font-weight: 700;
	color: #4ade80;
}

// ============================================
// CHANNEL TABS
// ============================================
.channel-tabs {
	display: flex;
	padding: 6px 10px;
	gap: 3px;
	border-bottom: 1px solid rgba(255, 255, 255, 0.04);
	background-color: rgba(0, 0, 0, 0.08);
	flex-shrink: 0;
}

.ch-tab {
	padding: 5px 11px;
	border-radius: 7px;
	cursor: pointer;
	transition: all 0.15s ease;

	span {
		font-size: 10px;
		font-weight: 700;
		color: #4a4a6a;
		letter-spacing: 0.04em;
	}

	&:hover span {
		color: #8888a8;
	}

	&.active {
		background-color: rgba(124, 58, 237, 0.1);

		span {
			color: #e0e0ec;
		}
	}

	&.disabled {
		opacity: 0.4;
		cursor: default;

		&:hover span {
			color: #4a4a6a;
		}
	}
}

// ============================================
// MESSAGES CONTAINER
// ============================================
.chat-messages {
	flex: 1 1 0;
	min-height: 0;
	overflow-y: scroll;
	overflow-x: hidden;
	padding: 8px 10px;
	display: flex;
	flex-direction: column;
	gap: 1px;
}

// ============================================
// PLAYER MESSAGE ROW
// ============================================
.msg {
	display: flex;
	gap: 10px;
	padding: 7px 8px;
	border-radius: 8px;
	flex-shrink: 0;
	transition: background-color 0.1s ease;

	&:hover {
		background-color: rgba(255, 255, 255, 0.015);

		.msg-time {
			opacity: 1;
		}
	}
}

// ============================================
// AVATAR
// ============================================
.msg-avatar {
	width: 40px;
	height: 40px;
	min-width: 40px;
	border-radius: 12px;
	flex-shrink: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	position: relative;
	overflow: visible;
	border: 2px solid rgba(167, 139, 250, 0.3);
	background-color: rgba(167, 139, 250, 0.12);
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);

	img {
		width: 34px;
		height: 34px;
		border-radius: 8px;
	}

	// Color variants
	&.av-red {
		background-color: rgba(239, 68, 68, 0.15);
		border-color: rgba(239, 68, 68, 0.35);
	}
	&.av-purple {
		background-color: rgba(167, 139, 250, 0.12);
		border-color: rgba(167, 139, 250, 0.3);
	}
	&.av-cyan {
		background-color: rgba(34, 211, 238, 0.12);
		border-color: rgba(34, 211, 238, 0.3);
	}
	&.av-green {
		background-color: rgba(34, 197, 94, 0.12);
		border-color: rgba(34, 197, 94, 0.3);
	}
	&.av-amber {
		background-color: rgba(245, 158, 11, 0.12);
		border-color: rgba(245, 158, 11, 0.3);
	}
	&.av-pink {
		background-color: rgba(244, 114, 182, 0.12);
		border-color: rgba(244, 114, 182, 0.3);
	}
	&.av-teal {
		background-color: rgba(52, 211, 153, 0.12);
		border-color: rgba(52, 211, 153, 0.3);
	}
}

.lv-pip {
	position: absolute;
	bottom: -3px;
	right: -3px;
	background-color: #0a0a14;
	border-radius: 3px;
	padding: 1px 3px;

	span {
		font-size: 7px;
		font-weight: 900;
		color: #8888a8;
	}
}

// ============================================
// MESSAGE BODY
// ============================================
.msg-body {
	flex: 1;
	min-width: 0;
	display: flex;
	flex-direction: column;
}

.msg-top {
	display: flex;
	align-items: center;
	gap: 5px;
	margin-bottom: 1px;
}

.role-pill {
	font-size: 7px;
	font-weight: 900;
	letter-spacing: 0.08em;
	padding: 1.5px 5px;
	border-radius: 3px;
	flex-shrink: 0;

	&.dev {
		background-color: rgba(239, 68, 68, 0.12);
		color: #f87171;
	}
}

// Name colors
.msg-name {
	font-size: 11px;
	font-weight: 800;
	color: #a78bfa;

	&.c-red { color: #f87171; }
	&.c-purple { color: #a78bfa; }
	&.c-cyan { color: #22d3ee; }
	&.c-green { color: #4ade80; }
	&.c-amber { color: #fbbf24; }
	&.c-pink { color: #f472b6; }
	&.c-teal { color: #34d399; }
}

.msg-time {
	font-size: 9px;
	font-weight: 600;
	color: #4a4a6a;
	margin-left: auto;
	opacity: 0;
	transition: opacity 0.15s ease;
	flex-shrink: 0;
}

.msg-text {
	font-size: 12px;
	font-weight: 500;
	color: #8888a8;
	line-height: 18;
}

// ============================================
// BEAST EMBED (inline showcase card)
// ============================================
.beast-embed {
	margin-top: 6px;
	display: flex;
	align-items: center;
	gap: 10px;
	padding: 8px 12px;
	background-color: rgba(255, 255, 255, 0.02);
	border: 1px solid rgba(255, 255, 255, 0.06);
	border-left: 3px solid rgba(255, 255, 255, 0.1);
	border-radius: 8px;
	cursor: pointer;
	transition: background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;

	&:hover {
		background-color: rgba(255, 255, 255, 0.04);
		box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
	}

	// Element color tints — left accent + border + hover
	&.fire { border-left-color: rgba(239, 68, 68, 0.5); background-color: rgba(239, 68, 68, 0.03); }
	&.water { border-left-color: rgba(59, 130, 246, 0.5); background-color: rgba(59, 130, 246, 0.03); }
	&.earth { border-left-color: rgba(180, 83, 9, 0.5); background-color: rgba(180, 83, 9, 0.03); }
	&.wind { border-left-color: rgba(134, 239, 172, 0.5); background-color: rgba(134, 239, 172, 0.03); }
	&.electric { border-left-color: rgba(250, 204, 21, 0.5); background-color: rgba(250, 204, 21, 0.03); }
	&.ice { border-left-color: rgba(147, 197, 253, 0.5); background-color: rgba(147, 197, 253, 0.03); }
	&.nature { border-left-color: rgba(34, 197, 94, 0.5); background-color: rgba(34, 197, 94, 0.03); }
	&.metal { border-left-color: rgba(156, 163, 175, 0.5); background-color: rgba(156, 163, 175, 0.03); }
	&.shadow { border-left-color: rgba(139, 92, 246, 0.5); background-color: rgba(139, 92, 246, 0.03); }
	&.spirit { border-left-color: rgba(236, 72, 153, 0.5); background-color: rgba(236, 72, 153, 0.03); }
}

.be-art {
	width: 36px;
	height: 36px;
	min-width: 36px;
	border-radius: 8px;
	display: flex;
	align-items: center;
	justify-content: center;
	background-color: rgba(0, 0, 0, 0.4);
	border: 1px solid rgba(255, 255, 255, 0.06);
	overflow: hidden;

	img {
		width: 64px;
		height: 64px;
		image-rendering: pixelated;
	}
}

.be-info {
	display: flex;
	flex-direction: column;
	gap: 2px;
}

.be-name {
	font-size: 11px;
	font-weight: 800;
	color: #e0e0ec;
}

.be-stats {
	display: flex;
	align-items: center;
	gap: 6px;
}

.be-stat {
	font-size: 9px;
	font-weight: 600;
	color: #8888a8;
}

.be-sep {
	font-size: 9px;
	color: #4a4a6a;
}

.be-rarity {
	font-size: 8px;
	font-weight: 900;
	letter-spacing: 0.04em;

	&.common { color: #9ca3af; }
	&.uncommon { color: #4ade80; }
	&.rare { color: #60a5fa; }
	&.epic { color: #c084fc; }
	&.legendary { color: #fcd34d; }
	&.mythic { color: #f472b6; }
}

// ============================================
// SYSTEM MESSAGE
// ============================================
.msg-system {
	display: flex;
	align-items: flex-start;
	gap: 8px;
	padding: 10px 12px;
	margin: 4px 0;
	background-color: rgba(124, 58, 237, 0.04);
	border-radius: 8px;
	border-left: 3px solid #7c3aed;
	flex-shrink: 0;
}

.sys-icon {
	width: 20px;
	height: 20px;
	min-width: 20px;
	flex-shrink: 0;
}

.sys-icon-img {
	width: 22px;
	height: 22px;
	min-width: 22px;
	image-rendering: pixelated;
	flex-shrink: 0;
}

.sys-text {
	font-size: 11px;
	font-weight: 600;
	color: #a78bfa;
	line-height: 16;
}

// ============================================
// ACHIEVEMENT MESSAGE
// ============================================
.msg-achievement {
	display: flex;
	align-items: flex-start;
	gap: 8px;
	padding: 10px 12px;
	margin: 4px 0;
	background-color: rgba(245, 158, 11, 0.04);
	border-radius: 8px;
	border-left: 3px solid #f59e0b;
	flex-shrink: 0;

	.sys-text {
		color: #fbbf24;
	}
}

// ============================================
// JOIN/LEAVE MESSAGES
// ============================================
.msg-join {
	text-align: center;
	padding: 4px 8px;
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 4px;
	flex-shrink: 0;
}

.arrow-in {
	font-size: 10px;
	font-weight: 700;
	color: #22c55e;
}

.arrow-out {
	font-size: 10px;
	font-weight: 700;
	color: #ef4444;
}

.jn {
	font-size: 10px;
	font-weight: 700;
	color: #8888a8;
}

.join-text {
	font-size: 10px;
	font-weight: 600;
	color: #4a4a6a;
}

// ============================================
// TAMER CARD SHOWCASE
// ============================================

.tc-shared-text {
	font-size: 10px;
	font-weight: 600;
	color: #4a4a6a;
	margin-bottom: 4px;
}

.tc-showcase {
	display: flex;
	flex-direction: row;
	background-color: rgba(8, 8, 20, 0.95);
	border: 1.5px solid rgba(139, 92, 246, 0.35);
	border-radius: 10px;
	position: relative;
	overflow: hidden;
	height: 88px;
	width: 100%;
	transition: border-color 0.2s ease, box-shadow 0.2s ease;
	cursor: pointer;
	margin-top: 4px;

	&:hover {
		border-color: rgba(139, 92, 246, 0.6);
		box-shadow: 0 4px 20px rgba(139, 92, 246, 0.15);
	}
}

.tc-showcase-bg {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-size: cover;
	background-position: center;
	opacity: 0.15;
}

.tc-showcase-content {
	display: flex;
	flex-direction: row;
	align-items: center;
	gap: 10px;
	padding: 10px 12px;
	position: relative;
}

.tc-showcase-avatar {
	width: 52px;
	height: 52px;
	min-width: 52px;
	background-color: rgba(0, 0, 0, 0.5);
	border-radius: 50%;
	border: 2px solid rgba(255, 255, 255, 0.15);
	display: flex;
	justify-content: center;
	align-items: flex-start;
	flex-shrink: 0;
	overflow: hidden;

	img {
		min-width: 110px;
		width: 110px;
		height: auto;
		margin-top: -2px;
		image-rendering: pixelated;
	}

	&.male {
		border-color: rgba(59, 130, 246, 0.4);
	}

	&.female {
		border-color: rgba(236, 72, 153, 0.4);
		img {
			transform: scaleX(-1);
		}
	}
}

.tc-showcase-info {
	display: flex;
	flex-direction: column;
	gap: 2px;
	position: relative;
}

.tc-showcase-name-row {
	display: flex;
	flex-direction: row;
	align-items: center;
	gap: 6px;
}

.tc-showcase-name {
	font-size: 14px;
	font-weight: 800;
	color: #ffffff;
	white-space: nowrap;
	text-shadow: 0 1px 4px rgba(0, 0, 0, 0.8);
}

.tc-showcase-title {
	font-size: 9px;
	font-weight: 700;
	color: rgba(167, 139, 250, 0.8);
	letter-spacing: 0.8px;
	text-transform: uppercase;
	white-space: nowrap;
	text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

.tc-showcase-stats {
	display: flex;
	flex-direction: row;
	align-items: center;
	gap: 8px;
	margin-top: 2px;
}

.tc-showcase-level {
	font-size: 11px;
	font-weight: 700;
	color: rgba(255, 255, 255, 0.85);
	text-shadow: 0 1px 4px rgba(0, 0, 0, 0.8);
}

.tc-showcase-rank {
	font-size: 11px;
	font-weight: 700;
	text-shadow: 0 1px 4px rgba(0, 0, 0, 0.8);
}

.tc-showcase-pts {
	font-size: 10px;
	font-weight: 600;
	color: rgba(255, 255, 255, 0.6);
	text-shadow: 0 1px 4px rgba(0, 0, 0, 0.8);
}

.tc-showcase-beast {
	position: absolute;
	right: -10px;
	bottom: -10px;
	width: 90px;
	height: 90px;
	image-rendering: pixelated;
	opacity: 0.6;
	pointer-events: none;
}


// ============================================
// INPUT AREA
// ============================================
.chat-input-area {
	padding: 10px 12px;
	border-top: 1px solid rgba(255, 255, 255, 0.04);
	background-color: rgba(0, 0, 0, 0.12);
	flex-shrink: 0;
}

.input-row {
	display: flex;
	gap: 8px;
	align-items: center;
}

.send-btn {
	width: 40px;
	height: 40px;
	min-width: 40px;
	border-radius: 12px;
	background-color: #7c3aed;
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	flex-shrink: 0;
	transition: background-color 0.15s ease;

	.send-icon {
		width: 20px;
		height: 20px;
	}

	&:hover {
		background-color: #6d28d9;
	}

	&:active {
		transform: scale(0.93);
	}
}
