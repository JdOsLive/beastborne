ArenaPanel {
	width: 100%;
	height: 100%;
}

.arena-panel {
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	padding: 20px;
	position: relative;
	overflow: hidden;

	// Background image
	background-image: url(ui/menus/arena_background.png);
	background-size: cover;
	background-position: center top;
	background-repeat: no-repeat;

	// Dark overlay for readability
	&::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(180deg, rgba(8, 8, 18, 0.85), rgba(15, 12, 30, 0.92));
		z-index: 0;
		pointer-events: none;
	}
}

// Ensure content is above overlay
.arena-panel > * {
	position: relative;
	z-index: 1;
}

// ============================================
// HEADER
// ============================================
.panel-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	flex-shrink: 0;
	position: relative;
	z-index: 2;
}

.header-text {
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.panel-title {
	font-size: 28px;
	font-weight: 700;
	color: #ffffff;
}

.panel-subtitle {
	font-size: 14px;
	color: rgba(255, 255, 255, 0.5);
}

// ============================================
// ALPHA DISCLAIMER
// ============================================
.alpha-disclaimer {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 10px;
	padding: 16px 20px;
	margin-top: 12px;
	min-height: 48px; // Explicit min-height prevents collapse
	flex-shrink: 0;
	overflow: visible;
	background: linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);
	border: 1px solid rgba(251, 191, 36, 0.4);
	border-radius: 8px;
	position: relative;
	z-index: 2;

	.disclaimer-icon {
		font-size: 16px;
		color: #fbbf24;
		flex-shrink: 0;
		align-self: center;
	}

	.disclaimer-text {
		font-size: 13px;
		color: rgba(255, 255, 255, 0.85);
		line-height: 20px; // Fixed line-height in px for consistent rendering
		padding-top: 2px; // Small top padding to prevent text clipping
	}
}

// ============================================
// LOBBY LAYOUT
// ============================================
.lobby-content {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	flex: 1;
	gap: 24px;
	padding: 20px 20px 40px 20px;
}

// Player Stats Section (Top)
.player-stats-section {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 12px;
}

.rank-card {
	display: flex;
	align-items: center;
	gap: 16px;
	padding: 16px 32px;
	background-color: rgba(10, 10, 20, 0.9);
	border: 2px solid rgba(80, 80, 120, 0.5);
	border-radius: 16px;
}

.rank-icon-large {
	font-size: 48px;
	width: 64px;
	height: 64px;
	display: flex;
	align-items: center;
	justify-content: center;
	background-color: rgba(20, 20, 40, 0.8);
	border-radius: 50%;
	border: 3px solid rgba(100, 100, 150, 0.5);
}

.rank-details {
	display: flex;
	flex-direction: column;
	gap: 2px;
}

.rank-title {
	font-size: 28px;
	font-weight: 700;
}

.rank-points {
	font-size: 14px;
	color: #8888aa;
}

.stats-row {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 8px 20px;
	background-color: rgba(10, 10, 20, 0.7);
	border-radius: 20px;
}

.stat-item {
	display: flex;
	align-items: baseline;
	gap: 4px;

	.stat-value {
		font-size: 20px;
		font-weight: 700;
		color: #ffffff;
	}

	.stat-label {
		font-size: 12px;
		color: #6b7280;
	}

	&.wins .stat-value { color: #4ade80; }
	&.losses .stat-value { color: #f87171; }
	&.winrate .stat-value { color: #60a5fa; }
}

.stat-divider {
	font-size: 16px;
	color: #4b5563;
}

// Team Section (Center)
.team-section {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 16px;
}

.section-title {
	font-size: 14px;
	font-weight: 700;
	color: #9ca3af;
	letter-spacing: 3px;
	text-transform: uppercase;
}

.team-slots {
	display: flex;
	justify-content: center;
	gap: 16px;
}

.team-slot {
	width: 180px;
	height: 290px;
	background-color: rgba(10, 10, 20, 0.85);
	border: 3px solid rgba(80, 80, 120, 0.5);
	border-radius: 12px;
	display: flex;
	justify-content: center;
	align-items: center;
	cursor: pointer;
	transition: all 0.2s ease;
	overflow: hidden;

	&:hover {
		border-color: #8b5cf6;
		background-color: rgba(30, 20, 60, 0.9);
		transform: translateY(-4px);
	}

	&.filled {
		border-color: #6d28d9;
		background-color: transparent;
	}

}

.empty-slot {
	display: flex;
	justify-content: center;
	align-items: center;
}

.empty-icon {
	font-size: 48px;
	color: rgba(100, 100, 140, 0.5);
}

// Battle Actions
.battle-actions {
	display: flex;
	gap: 12px;
	margin-top: 8px;
}

.battle-btn {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 4px;
	padding: 16px 32px;
	border-radius: 12px;
	cursor: pointer;
	transition: all 0.2s ease;
	min-width: 140px;

	.btn-icon {
		font-size: 24px;
	}

	.btn-text {
		font-size: 14px;
		font-weight: 700;
		letter-spacing: 1px;
	}

	.btn-sub {
		font-size: 11px;
		opacity: 0.7;
	}

	&.online {
		background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
		border: 2px solid #60a5fa;
		color: #ffffff;

		&:hover {
			background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
			transform: translateY(-2px);
		}
	}

	&.ai {
		background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
		border: 2px solid #f87171;
		color: #ffffff;

		&:hover {
			background: linear-gradient(135deg, #f87171 0%, #ef4444 100%);
			transform: translateY(-2px);
		}
	}

	&.disabled {
		opacity: 0.4;
		cursor: not-allowed;
		&:hover { transform: none; }
	}
}

// Side Actions (Leaderboard)
.side-actions {
	position: absolute;
	top: 20px;
	right: 20px;
}

.side-btn {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 12px 20px;
	background-color: rgba(10, 10, 20, 0.8);
	border: 2px solid rgba(80, 80, 120, 0.5);
	border-radius: 10px;
	color: #ffffff;
	cursor: pointer;
	transition: all 0.2s ease;

	.btn-icon {
		font-size: 18px;
	}

	.btn-text {
		font-size: 12px;
		font-weight: 600;
		letter-spacing: 1px;
	}

	&:hover {
		background-color: rgba(20, 20, 40, 0.9);
		border-color: #fbbf24;
	}
}

// Legacy action-btn for other views
.action-btn {
	padding: 16px 32px;
	font-size: 16px;
	font-weight: 700;
	letter-spacing: 2px;
	border-radius: 12px;
	cursor: pointer;
	transition: all 0.2s ease;

	&.find-match {
		background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
		border: 2px solid #f87171;
		color: #ffffff;

		&:hover {
			background: linear-gradient(135deg, #f87171 0%, #ef4444 100%);
			transform: scale(1.02);
		}

		&.disabled {
			opacity: 0.5;
			cursor: not-allowed;
			&:hover { transform: none; }
		}
	}

	&.leaderboard {
		background-color: rgba(255, 255, 255, 0.1);
		border: 2px solid rgba(255, 255, 255, 0.2);
		color: rgba(255, 255, 255, 0.8);

		&:hover {
			background-color: rgba(255, 255, 255, 0.15);
		}
	}

	&.battle {
		background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
		border: 2px solid #4ade80;
		color: #ffffff;

		&:hover {
			background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
		}
	}

	&.cancel {
		background-color: rgba(255, 255, 255, 0.1);
		border: 2px solid rgba(255, 255, 255, 0.2);
		color: rgba(255, 255, 255, 0.8);
	}

	&.continue {
		background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
		border: 2px solid #a78bfa;
		color: #ffffff;
	}
}

// Matchmaking Screen
.matchmaking-screen {
	flex: 1;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 24px;
}

.searching-animation {
	position: relative;
	width: 120px;
	height: 120px;
	display: flex;
	justify-content: center;
	align-items: center;
}

.search-ring {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	border: 4px solid rgba(239, 68, 68, 0.2);
	border-top-color: #ef4444;
	border-radius: 50%;
	animation: spin 1s linear infinite;
}

@keyframes spin {
	to { transform: rotate(360deg); }
}

.search-icon {
	font-size: 40px;
	color: #ef4444;
}

.searching-text {
	font-size: 20px;
	color: rgba(255, 255, 255, 0.7);
	animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
	0%, 100% { opacity: 0.7; }
	50% { opacity: 1; }
}

// Opponent Screen
.opponent-screen {
	flex: 1;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 32px;
}

.opponent-header {
	font-size: 24px;
	font-weight: 700;
	color: #ef4444;
	letter-spacing: 4px;
}

.matchup {
	display: flex;
	align-items: center;
	gap: 40px;
}

.matchup-side {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 8px;
	padding: 24px;
	background-color: rgba(0, 0, 0, 0.3);
	border-radius: 16px;
	min-width: 200px;

	&.player {
		border: 2px solid rgba(74, 222, 128, 0.3);
	}

	&.opponent {
		border: 2px solid rgba(239, 68, 68, 0.3);
	}
}

.matchup-name {
	font-size: 18px;
	font-weight: 600;
	color: #ffffff;
}

.matchup-rank {
	font-size: 14px;
	font-weight: 700;
}

.matchup-team {
	display: flex;
	gap: 8px;
	margin-top: 8px;
}

.matchup-icon {
	width: 48px;
	height: 48px;
	image-rendering: pixelated;
	background-color: rgba(0, 0, 0, 0.3);
	border-radius: 8px;
	padding: 4px;
}

.matchup-icon-placeholder {
	width: 48px;
	height: 48px;
	display: flex;
	justify-content: center;
	align-items: center;
	font-size: 28px;
	font-weight: 700;
	color: rgba(255, 255, 255, 0.3);
	background-color: rgba(0, 0, 0, 0.3);
	border-radius: 8px;
	border: 2px solid rgba(255, 255, 255, 0.2);
}

.matchup-vs {
	font-size: 32px;
	font-weight: 900;
	color: rgba(255, 255, 255, 0.3);
}

.opponent-actions {
	display: flex;
	gap: 16px;
}

// Result Screen
.result-screen {
	flex: 1;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 24px;
}

.result-title {
	font-size: 56px;
	font-weight: 900;
	letter-spacing: 4px;

	.victory & {
		color: #4ade80;
		text-shadow: 0 0 30px rgba(74, 222, 128, 0.5);
	}

	.defeat & {
		color: #ef4444;
		text-shadow: 0 0 30px rgba(239, 68, 68, 0.5);
	}
}

.points-change {
	font-size: 28px;
	font-weight: 700;

	&.gain { color: #4ade80; }
	&.loss { color: #ef4444; }
}

.new-rank {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 4px;
	padding: 20px 40px;
	background-color: rgba(0, 0, 0, 0.3);
	border-radius: 12px;
}

.rank-label {
	font-size: 12px;
	color: rgba(255, 255, 255, 0.5);
}

// Team Select Modal
.select-overlay {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: rgba(0, 0, 0, 0.8);
	display: flex;
	justify-content: center;
	align-items: center;
	z-index: 100;
	pointer-events: all;
}

.select-panel {
	width: 90%;
	max-width: 1014px;
	height: 70%;
	max-height: 600px;
	background: linear-gradient(135deg, #1e1e2e 0%, #2a2a40 100%);
	border: 2px solid rgba(139, 92, 246, 0.3);
	border-radius: 16px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.select-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 16px 20px;
	border-bottom: 1px solid rgba(255, 255, 255, 0.1);
	pointer-events: all;
}

.select-title {
	font-size: 18px;
	font-weight: 700;
	color: #ffffff;
}

.close-btn {
	width: 32px;
	height: 32px;
	background-color: rgba(255, 255, 255, 0.1);
	border: none;
	border-radius: 8px;
	color: rgba(255, 255, 255, 0.6);
	font-size: 20px;
	cursor: pointer;

	&:hover {
		background-color: rgba(255, 255, 255, 0.2);
		color: #ffffff;
	}
}

.select-grid {
	flex: 1;
	display: flex;
	flex-wrap: wrap;
	gap: 16px;
	padding: 20px;
	overflow-y: scroll;
	align-content: flex-start;
	min-height: 300px;
	// Disable drag-to-scroll on the container; children have pointer-events: all
	pointer-events: none;
}

.monster-option {
	cursor: pointer;
	transition: all 0.2s ease;
	pointer-events: all;

	&:hover {
		transform: translateY(-4px);
	}

	&.selected {
		opacity: 0.5;
		pointer-events: none;
	}
}

// Online Play Styles
.action-btn.online {
	background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
	border: 2px solid #60a5fa;
	color: #ffffff;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 4px;

	&:hover {
		background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
		transform: scale(1.02);
	}

	&.disabled {
		opacity: 0.5;
		cursor: not-allowed;
		&:hover { transform: none; }
	}
}

.online-indicator {
	font-size: 11px;
	font-weight: 400;
	letter-spacing: 0.5px;
	opacity: 0.8;
}

// Queue Info (Matchmaking)
.queue-info {
	font-size: 14px;
	color: rgba(255, 255, 255, 0.5);
}

.queue-time {
	font-size: 24px;
	font-weight: 700;
	color: #60a5fa;
	font-family: monospace;
}

// Real Player Badge
.real-player-badge {
	padding: 4px 12px;
	background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
	border-radius: 4px;
	font-size: 10px;
	font-weight: 700;
	letter-spacing: 1px;
	margin-right: 12px;
}

// Waiting for opponent indicator
.waiting-indicator {
	padding: 16px 32px;
	background-color: rgba(255, 255, 255, 0.1);
	border: 2px solid rgba(255, 255, 255, 0.2);
	border-radius: 12px;
}

.waiting-text {
	font-size: 16px;
	font-weight: 600;
	color: rgba(255, 255, 255, 0.8);
	animation: pulse 1.5s ease-in-out infinite;
}
